<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>PISA – MASTEMR</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../css/mastemr.css">
</head>
<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/KCL_logo.png" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">MASTEMR</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/A1-PISA_analysis.html">Appendicies</a></li><li class="breadcrumb-item"><a href="../chapters/A1-PISA_analysis.html">PISA</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Sessions</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/01-Intro_to_quant_methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">01 Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">02 Introduction to R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-1-Intro_to_analysis_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-2-Intro_to_analysis_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loading packages and exploring data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-3-Intro_to_analysis_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Piping and dplyr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-4-Intro_to_graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Making graphs</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/03-Descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">03 Descriptive Statistics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/04-Introduction_to_PISA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">04 Introduction to PISA</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/05-Presentations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">05 Presentations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/06-T-testsPISA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">06 T-tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/07-ChisqPISA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">07 Hypothesis testing and Chi-square tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/08-Writing_report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">08 Writing a quantitative report</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/09-Assignment_3_tutorials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09 Assignment 3 tutorials</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/10-Correlation_and_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10 Correlation and regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/11-selecting_statistical_tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11 Selecting statistical tools</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/12-value_of_quant.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">12 The value of quantitative methods</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Additional tests</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A8-SEM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SEM</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendicies</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A1-PISA_analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">PISA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A2-DfE_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DfE England</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A3-TIMSS_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TIMSS, PIRLS and ICILS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A4-Other_datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other datasets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A5-Self_Study_Tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Self Study Tasks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A6-QandA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Questions and Answers</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#what-is-pisa" id="toc-what-is-pisa" class="nav-link active" data-scroll-target="#what-is-pisa"><span class="header-section-number">1</span> What is PISA</a></li>
  <li><a href="#how-to-use-it" id="toc-how-to-use-it" class="nav-link" data-scroll-target="#how-to-use-it"><span class="header-section-number">2</span> How to use it</a></li>
  <li><a href="#common-issues" id="toc-common-issues" class="nav-link" data-scroll-target="#common-issues"><span class="header-section-number">3</span> Common issues</a></li>
  <li>
<a href="#questions" id="toc-questions" class="nav-link" data-scroll-target="#questions"><span class="header-section-number">4</span> Questions</a>
  <ul class="collapse">
<li><a href="#sec-PV" id="toc-sec-PV" class="nav-link" data-scroll-target="#sec-PV"><span class="header-section-number">4.1</span> What are Plausible Values?</a></li>
  <li><a href="#how-do-i-use-the-plausible-values-and-weights-correctly" id="toc-how-do-i-use-the-plausible-values-and-weights-correctly" class="nav-link" data-scroll-target="#how-do-i-use-the-plausible-values-and-weights-correctly"><span class="header-section-number">4.2</span> How do I use the plausible values and weights correctly?</a></li>
  <li><a href="#why-are-some-countries-oecd-countries-and-others-arent" id="toc-why-are-some-countries-oecd-countries-and-others-arent" class="nav-link" data-scroll-target="#why-are-some-countries-oecd-countries-and-others-arent"><span class="header-section-number">4.3</span> Why are some countries OECD countries and others aren’t?</a></li>
  <li><a href="#why-are-the-pv-grades-pivoting-around-the-500-mark" id="toc-why-are-the-pv-grades-pivoting-around-the-500-mark" class="nav-link" data-scroll-target="#why-are-the-pv-grades-pivoting-around-the-500-mark"><span class="header-section-number">4.4</span> Why are the PV grades pivoting around the ~500 mark?</a></li>
  <li><a href="#but-the-mean-pv-score-isnt-500" id="toc-but-the-mean-pv-score-isnt-500" class="nav-link" data-scroll-target="#but-the-mean-pv-score-isnt-500"><span class="header-section-number">4.5</span> But the mean PV score isn’t 500?!</a></li>
  <li><a href="#why-are-the-letters-ta-and-na-used-in-some-field-names" id="toc-why-are-the-letters-ta-and-na-used-in-some-field-names" class="nav-link" data-scroll-target="#why-are-the-letters-ta-and-na-used-in-some-field-names"><span class="header-section-number">4.6</span> Why are the letters TA and NA used in some field names?</a></li>
  <li><a href="#how-do-i-find-fields-that-are-numeric" id="toc-how-do-i-find-fields-that-are-numeric" class="nav-link" data-scroll-target="#how-do-i-find-fields-that-are-numeric"><span class="header-section-number">4.7</span> How do I find fields that are numeric?</a></li>
  <li><a href="#how-are-students-selected-to-take-part-in-pisa" id="toc-how-are-students-selected-to-take-part-in-pisa" class="nav-link" data-scroll-target="#how-are-students-selected-to-take-part-in-pisa"><span class="header-section-number">4.8</span> How are students selected to take part in PISA?</a></li>
  <li><a href="#what-are-the-pisa-test-questions-like" id="toc-what-are-the-pisa-test-questions-like" class="nav-link" data-scroll-target="#what-are-the-pisa-test-questions-like"><span class="header-section-number">4.9</span> What are the PISA test questions like?</a></li>
  <li><a href="#how-can-i-find-the-ethnicity-or-race-of-a-student-taking-the-pisa-test" id="toc-how-can-i-find-the-ethnicity-or-race-of-a-student-taking-the-pisa-test" class="nav-link" data-scroll-target="#how-can-i-find-the-ethnicity-or-race-of-a-student-taking-the-pisa-test"><span class="header-section-number">4.10</span> How can I find the ethnicity or race of a student taking the PISA test?</a></li>
  <li><a href="#what-are-the-pisa-domains" id="toc-what-are-the-pisa-domains" class="nav-link" data-scroll-target="#what-are-the-pisa-domains"><span class="header-section-number">4.11</span> What are the PISA domains?</a></li>
  <li><a href="#why-is-china-given-the-cnt-value-b-s-j-z-china-2018-or-b-s-j-g-china-2015" id="toc-why-is-china-given-the-cnt-value-b-s-j-z-china-2018-or-b-s-j-g-china-2015" class="nav-link" data-scroll-target="#why-is-china-given-the-cnt-value-b-s-j-z-china-2018-or-b-s-j-g-china-2015"><span class="header-section-number">4.12</span> Why is China given the <code>CNT</code> value <code>B-S-J-Z (China)</code> (2018) or <code>B-S-J-G (China)</code> (2015)?</a></li>
  <li><a href="#where-is-mainland-china-in-pisa-2022" id="toc-where-is-mainland-china-in-pisa-2022" class="nav-link" data-scroll-target="#where-is-mainland-china-in-pisa-2022"><span class="header-section-number">4.13</span> Where is mainland China in PISA 2022?</a></li>
  <li><a href="#how-do-i-calculate-weighted-means-of-the-pv-scores" id="toc-how-do-i-calculate-weighted-means-of-the-pv-scores" class="nav-link" data-scroll-target="#how-do-i-calculate-weighted-means-of-the-pv-scores"><span class="header-section-number">4.14</span> How do I calculate weighted means of the PV scores?</a></li>
  </ul>
</li>
  <li>
<a href="#pisa-quirks" id="toc-pisa-quirks" class="nav-link" data-scroll-target="#pisa-quirks"><span class="header-section-number">5</span> PISA quirks</a>
  <ul class="collapse">
<li><a href="#empty-fields" id="toc-empty-fields" class="nav-link" data-scroll-target="#empty-fields"><span class="header-section-number">5.1</span> Empty fields</a></li>
  <li><a href="#cyprus-present-but-missing" id="toc-cyprus-present-but-missing" class="nav-link" data-scroll-target="#cyprus-present-but-missing"><span class="header-section-number">5.2</span> Cyprus present but missing</a></li>
  <li><a href="#great-britain-vs-the-united-kingdom" id="toc-great-britain-vs-the-united-kingdom" class="nav-link" data-scroll-target="#great-britain-vs-the-united-kingdom"><span class="header-section-number">5.3</span> Great Britain vs the United Kingdom</a></li>
  </ul>
</li>
  <li><a href="#interesting-papers-and-reading-on-pisa" id="toc-interesting-papers-and-reading-on-pisa" class="nav-link" data-scroll-target="#interesting-papers-and-reading-on-pisa"><span class="header-section-number">6</span> Interesting papers and reading on PISA</a></li>
  <li><a href="#copyright" id="toc-copyright" class="nav-link" data-scroll-target="#copyright"><span class="header-section-number">7</span> Copyright</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/A1-PISA_analysis.html">Appendicies</a></li><li class="breadcrumb-item"><a href="../chapters/A1-PISA_analysis.html">PISA</a></li></ol></nav><div class="quarto-title">
<h1 class="title">PISA</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="what-is-pisa" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> What is PISA</h1>
<p>The <em>Programme for International Student Assessment</em> (PISA) is an OECD initiative that looks at the reading, mathematics and science abilities of students aged 15 years old. Data is collected from ~38 OECD countries and other partner countries every three years.</p>
<table class="caption-top table">
<thead><tr class="header">
<th>Dataset</th>
<th>Description</th>
<th style="text-align: center;">03</th>
<th style="text-align: center;">06</th>
<th style="text-align: center;">09</th>
<th style="text-align: center;">12</th>
<th style="text-align: center;">15</th>
<th style="text-align: center;">18</th>
<th style="text-align: center;">22</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Student</td>
<td>demographic data on student participants</td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EX6zg63qlJpEgZ8uQhjxJ30BkXxo3MhtDnnxcdXV6d_9GA?e=ZjDjLE" title="PISA 2003 student parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EZrlaEKCQtZLpC8_pZZFQeQBoh8lOI3_KvTd931QY4CzuQ?e=zOzhDU" title="PISA 2006 student parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EWvwfbrA9z1Fu9uGQXBIGmwBoMDZQglAh4pHID_i3DB-GQ?e=mFDJW5" title="PISA 2009 student parquet file">x</a></td>
<td style="text-align: center;">
<a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/Ed6fJmhhfdNLomH5evre2DsBOStpg5KjkjtZKgflRX-J3g?e=qfgp7X" title="PISA 2012 student parquet file">x</a><!--old link https://drive.google.com/file/d/1-41Ynn4hzEL1vO2L-wIqdRotXDtDdjYh/view?usp=share_link)-->
</td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/Eb9NSm5rzm1OhtKiX6ZlPZwBm86Cd82ZAUohbzbozlkk4A?e=xofvn5" title="PISA 2015 student parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EZsx7bC_8jlDpsLrODivNpIBrFdwhJRezNYosyhoCyPjMA?e=7od1Dm" title="PISA 2018 student parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/r/personal/k1926273_kcl_ac_uk/Documents/Code/QERKCL_PISA/data/pisa/2022/PISA_student_2022.parquet?csf=1&amp;web=1&amp;e=jppggv" title="PISA 2022 student parquet file">x</a></td>
</tr>
<tr class="even">
<td>School</td>
<td>descriptive data about schools</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EcqBboQfdChEv4AWCosNfSkBHD_477xotsXmioba4OMixg?e=f9OFKz" title="PISA 2015 school parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EcqBboQfdChEv4AWCosNfSkBHD_477xotsXmioba4OMixg?e=PeIwqX" title="PISA 2015 school parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EZ6gBqzavF5Dr3bHGL8jPBkB0AzqtCvflBFRRfrNrIFLEg?e=8alaVy" title="PISA 2018 school parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EaEQPEKYzR9MmiqLBYXOhmYBNXYg15UoDKGip-78kS1DvA?e=q74fyK" title="PISA 2022 school parquet file">x</a></td>
</tr>
<tr class="odd">
<td>Parent</td>
<td>a survey for student’s parents including information about home environments and parental education</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td>Teacher</td>
<td>demographic, teaching, qualification and training data</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/ERlZD45RXhRBoOoR1B3EVNMBhCiAoB5Hd8LsgUlwHzlEdA?e=yyJfW7" title="PISA 2015 teacher parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EdVdIhwprLRGgN-o9u4DDH0BoIcgGEy84ERCKX4z-I3zaw?e=t3ceLR" title="PISA 2018 teacher parquet file">x</a></td>
<td style="text-align: center;"><a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1926273_kcl_ac_uk/EbFmgVVbQD9DlIIgOKHDhLcB8bA8lfQMDVSEkcjtByM2cQ?e=zYG4Is" title="PISA 2022 teacher parquet file">x</a></td>
</tr>
<tr class="odd">
<td>Cognitive</td>
<td>individual results for each exam style question students took</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;"><a href="https://drive.google.com/file/d/19GLw1-YA1aJGWoCWXfZGtUWnQi4pcjik/view?usp=share_link">x</a></td>
<td style="text-align: center;"><a href="https://drive.google.com/file/d/1sTpe3TJSnByhZdxzezkmXjH2uTH9TOUP/view?usp=share_link">x</a></td>
<td style="text-align: center;"><a href="https://drive.google.com/file/d/1nhwySp0A-LHfN-oO8HES9PQOIDZNmOzT/view?usp=share_link">x</a></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>PISA datasets above can be found on the <a href="https://www.oecd.org/pisa/data/">OECD website</a>. The links in the table above will allow you to download <code>.parquet</code> versions of these files which we have created, though they might need additional editing, e.g.&nbsp;reducing the number of columns or changing the types of each column. If you want to find out more about what each field stores, take a look at the corresponding codebook: <a href="https://webfs.oecd.org/pisa2022/CY08MSP_CODEBOOK_5thDecember23.xlsx">2022</a>, <a href="https://webfs.oecd.org/pisa2018/PISA2018_CODEBOOK.xlsx">2018</a>, <a href="https://webfs.oecd.org/pisa/Codebook_CMB.xlsx">2015</a>.</p>
</section><section id="how-to-use-it" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> How to use it</h1>
<p>The PISA datasets come in <em>SPSS</em> or <em>SAS</em> formats. The data used in this course comes directly from downloading the SPSS <code>.sav</code> files and using the <code>haven</code> package to clean it into a native R format suitable for analysis, in most cases <code>.parquet</code> files (see: <a href="../chapters/02-2-Intro_to_analysis_software.html#sec-parquet">§.parquet files</a>). There are a few quirks that you need to be aware of:</p>
<ul>
<li>R uses levels (factors) instead of labelled data</li>
<li>All SPSS fields are <em>labelled</em>, and auto conversion into the native R dataframe format would make numeric fields, factors(!?). To avoid this confusion we have stripped out the no-response data for numeric fields and replaced it with <code>NA</code> values. This means that you won’t be able to tell the reason that a field is missing, but most of the original data doesn’t appear to use the majority of these levels, i.e.&nbsp;there are few reasons given for missing data. The following labels have all been set to <code>NA</code>:</li>
</ul>
<table class="caption-top table">
<caption>Labels set to <code>NA</code> in <code>.parquet</code> files</caption>
<thead><tr class="header">
<th>value</th>
<th>label</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>95</td>
<td>Valid Skip</td>
</tr>
<tr class="even">
<td>97</td>
<td>Not Applicable</td>
</tr>
<tr class="odd">
<td>98</td>
<td>Invalid</td>
</tr>
<tr class="even">
<td>99</td>
<td>No Response</td>
</tr>
</tbody>
</table>
<ul>
<li>As the fields are now using R’s native factor format you might find that the data doesn’t quite match the format of the table labels. For example, <code>CNT</code> is labelled “Country code 3-character”, but the data is now instead the full country name.</li>
<li>the examples shown in the book use cut down PISA datasets, where only a limited number of columns are included. The <em>full</em> datasets are linked in the table above.</li>
</ul></section><section id="common-issues" class="level1" data-number="3"><h1 data-number="3">
<span class="header-section-number">3</span> Common issues</h1>
<p>The PISA datasets can be absolutely huge and might bring your computer to its knees; if you are using a computer with less than 16GB of RAM you might not be able to load some tables at all. Tables such as the <em>Cognitive</em> dataset have hundreds of thousands of rows and thousands of columns, loading them directly might lead to an error similar to this: <code>Error: cannot allocate vector of size 2.1 Gb</code>. This means that R can’t find enough RAM to load the dataset and has given up. You can see a rough estimate of how much RAM R is currently using the top Environment panel:</p>
<p><img src="..\images/environment-RAM.png" class="img-fluid"></p>
<p>To get around this issues you can try to clean your current R environment using the brush tool:</p>
<p><img src="..\images/environment-brush.png" class="img-fluid"></p>
<p>This will drop all the current dataframes, objects, functions and packages that you have loaded meaning you will have to reload packages such as <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> and <code><a href="https://haven.tidyverse.org">library(haven)</a></code> before you can attempt to reload the PISA tables.</p>
<p>A lack of RAM might also be the result of lots of other programs running concurrently on your computer. Try to close anything that you don’t need, web browsers can be particularly RAM hungry, so close them or as many tabs as you can.</p>
<p>If none of the above works, then please get in touch with the team, letting them know which table you need from which year, with which fields and for which countries. We will be able to provide you with a cutdown dataset.</p>
</section><section id="questions" class="level1" data-number="4"><h1 data-number="4">
<span class="header-section-number">4</span> Questions</h1>
<section id="sec-PV" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="sec-PV">
<span class="header-section-number">4.1</span> What are Plausible Values?</h2>
<p>In the PISA dataset, the outcomes of student tests are reported as plausible values, for example, in the variables of the science test (<code>PV1SCIE</code>, <code>PV2SCIE</code>, <code>PV3SCIE</code>, <code>PV3SCIE</code>, and <code>PV5SCIE</code>). It might seem counter intuitive that there are five or ten values for a score on a test. (note PISA published five plausible values before 2015, when they increased the number of plausible values to ten)</p>
<p>Plausible values (PVs) are a way of expressing the error in a measurement. The number of questions in the full PISA survey is very large, so students are randomly allocated to take a subset of questions (and even then, the test still takes two hours!). As no student completes the full set of questions (only 40% of students even answer questions in reading, science and mathematics <span class="citation" data-cites="OECD2014technical">OECD (<a href="#ref-OECD2014technical" role="doc-biblioref">2014</a>)</span>), estimating how a student would have performed on the full question set involves some error. Plausible values are a way of expressing the uncertainty in the estimation of student scores.</p>
<p>One way of thinking of the PV scores is that they represent five or ten different estimates of students’ abilities based on the questions they have answered. To decrease measurement error, five different approaches are applied to create five different estimates, the PV scores.</p>
<p>The PISA Data Analysis Manual suggests:</p>
<blockquote class="blockquote">
<p>Population statistics should be estimated using each plausible value separately. The reported population statistic is then the average of each plausible value statistic. For instance, if one is interested in the correlation coefficient between the social index and the reading performance in PISA, then five correlation coefficients should be computed and then averaged</p>
<p>Plausible values should never be averaged at the student level, i.e.&nbsp;by computing in the dataset the mean of the five plausible values at the student level and then computing the statistic of interest once using that average PV value. Doing so would be equivalent to an EAP estimate, with a bias as described in the previous section.</p>
<p><span class="citation" data-cites="monseur2009pisa">(<a href="#ref-monseur2009pisa" role="doc-biblioref">Monseur et al. 2009, 100</a>)</span></p>
</blockquote>
<p>The actual PV values can differ substantially from each, for example if we work out the scaled (normalised) value for a PV value, that is how many standard deviations from the mean of other PV values a student gets we can see large fluctuations. For student 5, PV1SCIE is 0.147 standard deviations <em>lower</em> than the average of all students, whilst PV2SCIE is 1.10 standard deviations <em>higher</em>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>PISA_2022 <span class="sc">%&gt;%</span> </span>
<span id="cb1-2"><a href="#cb1-2"></a>  <span class="fu">mutate</span>(<span class="at">PV1SCIE_z =</span> <span class="fu">scale</span>(PV1SCIE),</span>
<span id="cb1-3"><a href="#cb1-3"></a>         <span class="at">PV2SCIE_z =</span> <span class="fu">scale</span>(PV2SCIE)) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="fu">select</span>(PV1SCIE_z,</span>
<span id="cb1-5"><a href="#cb1-5"></a>         PV2SCIE_z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 613,744 × 2
   PV1SCIE_z[,1] PV2SCIE_z[,1]
           &lt;dbl&gt;         &lt;dbl&gt;
 1        -1.09         -1.47 
 2        -1.29         -1.17 
 3        -0.872        -1.00 
 4        -2.24         -2.45 
 5        -0.147         1.10 
 6         0.272         0.298
 7        -1.03         -1.52 
 8        -1.22         -0.865
 9        -0.854        -0.840
10        -0.614        -0.221
# ℹ 613,734 more rows</code></pre>
</div>
</div>
<p>These differences make analysis at an individual student level hard to justify, though overall population or sub population scores will be more reliable. As suggested above, we could look at using the average (here, taken to be the <em>mean</em>) of several PV scores. To calculate the mean of ten PV values, do the following (it might take some time to complete this calculation!):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>PISA_2022 <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">mutate</span>(<span class="at">PV_SCIE_z =</span> <span class="fu">mean</span>(<span class="fu">c_across</span>(<span class="fu">matches</span>(<span class="st">"PV[0-9]+SCIE"</span>))),</span>
<span id="cb3-4"><a href="#cb3-4"></a>         <span class="at">PV_MATH_z =</span> <span class="fu">mean</span>(<span class="fu">c_across</span>(<span class="fu">matches</span>(<span class="st">"PV[0-9]+MATH"</span>))),</span>
<span id="cb3-5"><a href="#cb3-5"></a>         <span class="at">PV_READ_z =</span> <span class="fu">mean</span>(<span class="fu">c_across</span>(<span class="fu">matches</span>(<span class="st">"PV[0-9]+READ"</span>)))) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> <span class="co"># to get rid of the rowwise operator</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="fu">select</span>(PV_SCIE_z, PV_MATH_z, PV_READ_z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="how-do-i-use-the-plausible-values-and-weights-correctly" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="how-do-i-use-the-plausible-values-and-weights-correctly">
<span class="header-section-number">4.2</span> How do I use the plausible values and weights correctly?</h2>
<p>To simplify our teaching, we focus on using a single PV value, PV1 in our calculations. This is not the recommended use, but simplifies our introduction to the PISA data. Here we set out how to perform a more complete analysis.</p>
<p>First, there are two forms of weights in the PISA data set. First senate weights. To ensure that countries make equal contributions to regression models when they have different response rates, senate weights are published <span class="citation" data-cites="jerrim2017weight">(<a href="#ref-jerrim2017weight" role="doc-biblioref">Jerrim et al. 2017</a>)</span>. Senate weights renormalise the weights within each country so that the total for a country sums to a constant value, giving each country the same weight in an overall analysis <span class="citation" data-cites="rijmen2011hierarchical">(<a href="#ref-rijmen2011hierarchical" role="doc-biblioref">Rijmen 2011</a>)</span>. Second, there are student weights, which represent the probability of an individual student being selected, and ensure outcomes represent the population accurately.</p>
<p>The first step in analysis is to apply the weights. In the code below, we select the needed columns, country, the student weight column (<code>W_FSTUWT</code>) and the ten PV values (in this case for math). The <code>mutate_across</code> line multiples each of the ten PV values by the value in <code>W_FSTUWT</code>, the student weight, and adds new columns with <code>_weighted</code> appended.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>PISA_2022 <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="fu">select</span>(CNT, W_FSTUWT, PV1MATH<span class="sc">:</span>PV10MATH) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(PV1MATH<span class="sc">:</span>PV10MATH, <span class="sc">~</span> .x <span class="sc">*</span> W_FSTUWT, <span class="at">.names =</span> <span class="st">"{.col}_weighted"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next we <code>group_by(CNT)</code> and summarise to get a <code>total_weight</code> for each country, by adding all the individual student weights (<code>W_FSTUWT</code>). To get a mean PV1, PV2, etc score for each country, we then sum all the weighted PV1 scores and divide by the total weight, and do the same for PV2, Pv3 etc. These are given the names <code>PV1MATH_weighted_mean</code>, <code>PV2MATH_weighted_mean</code>, etc.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>PISA_2022 <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">select</span>(CNT, W_FSTUWT, PV1MATH<span class="sc">:</span>PV10MATH) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(PV1MATH<span class="sc">:</span>PV10MATH, <span class="sc">~</span> .x <span class="sc">*</span> W_FSTUWT, <span class="at">.names =</span> <span class="st">"{.col}_weighted"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">group_by</span>(CNT) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-6"><a href="#cb5-6"></a>    <span class="at">total_weight =</span> <span class="fu">sum</span>(W_FSTUWT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="fu">across</span>(PV1MATH_weighted<span class="sc">:</span>PV10MATH_weighted, <span class="sc">~</span> <span class="fu">sum</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> total_weight, <span class="at">.names =</span> <span class="st">"{.col}_mean"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, we calculated the mean of the <code>PV1MATH_weighted_mean</code>, <code>PV2MATH_weighted_mean</code>, … <code>PV10MATH_weighted_mean</code> columns. I have arranged the results in descending order.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>PISA_2022 <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">select</span>(CNT, W_FSTUWT, PV1MATH<span class="sc">:</span>PV10MATH) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(PV1MATH<span class="sc">:</span>PV10MATH, <span class="sc">~</span> .x <span class="sc">*</span> W_FSTUWT, <span class="at">.names =</span> <span class="st">"{.col}_weighted"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">group_by</span>(CNT) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">summarise</span>(</span>
<span id="cb6-6"><a href="#cb6-6"></a>    <span class="at">total_weight =</span> <span class="fu">sum</span>(W_FSTUWT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb6-7"><a href="#cb6-7"></a>    <span class="fu">across</span>(PV1MATH_weighted<span class="sc">:</span>PV10MATH_weighted, <span class="sc">~</span> <span class="fu">sum</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> total_weight, <span class="at">.names =</span> <span class="st">"{.col}_mean"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="fu">mutate</span>(<span class="at">PV_mean_weighted =</span> <span class="fu">mean</span>(<span class="fu">c_across</span>(<span class="fu">ends_with</span>(<span class="st">"_mean"</span>)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="fu">select</span>(CNT, PV_mean_weighted) <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="fu">mutate</span>(<span class="at">PV_mean_weighted =</span> <span class="fu">round</span>(PV_mean_weighted, <span class="at">digits =</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-12"><a href="#cb6-12"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(PV_mean_weighted))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 80 × 2
# Rowwise: 
   CNT               PV_mean_weighted
   &lt;fct&gt;                        &lt;dbl&gt;
 1 Singapore                     575.
 2 Macao (China)                 552.
 3 Chinese Taipei                547.
 4 Hong Kong (China)             540.
 5 Japan                         536.
 6 Korea                         527.
 7 Estonia                       510.
 8 Switzerland                   508 
 9 Canada                        497.
10 Netherlands                   493.
# ℹ 70 more rows</code></pre>
</div>
</div>
<p>This output matches the PISA published values for 2022.</p>
<p>When performing tests (for example, t-tests or linear regressions) the recommended approach is to:Rubin’s rules for multiple imputation as recommended by the OECD <span class="citation" data-cites="rubin1987multiple">OECD (<a href="#ref-OECD2009tech" role="doc-biblioref">2009a</a>)</span> : a) estimate a statistic multiple times, once each for each plausible value; b) average the values produced; c) estimate the magnitude of the imputation error; and d) calculate the final standard error from the sampling error and the imputation error.</p>
<p>Hence, if you were performing a linear model you should a) weight the raw scores you intend to use; b) run the model ten times, once each for each of the plausible values; c) calculate the average outcome metrics. For example, your code might look like this:</p>
</section><section id="why-are-some-countries-oecd-countries-and-others-arent" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="why-are-some-countries-oecd-countries-and-others-arent">
<span class="header-section-number">4.3</span> Why are some countries OECD countries and others aren’t?</h2>
<p>The Organisation for Economic Co-operation and Development (OECD) has 38 member states. PISA is run by the OECD and its member states normally take part in each PISA cycle, but other countries are allowed to take part as <em>Partners</em>. You can find more details on participation <a href="https://www.oecd.org/pisa/aboutpisa/pisa-participants.htm">here</a>.</p>
<p>Results for OECD members are generally higher than for Partner countries:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>PISA_2022 <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">group_by</span>(OECD) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">summarise</span>(<span class="at">country_n =</span> <span class="fu">length</span>(<span class="fu">unique</span>(CNT)),</span>
<span id="cb8-4"><a href="#cb8-4"></a>            <span class="at">math_mean =</span> <span class="fu">mean</span>(PV1MATH, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-5"><a href="#cb8-5"></a>            <span class="at">math_sd =</span> <span class="fu">sd</span>(PV1MATH, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-6"><a href="#cb8-6"></a>            <span class="at">students_n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  OECD  country_n math_mean math_sd students_n
  &lt;fct&gt;     &lt;int&gt;     &lt;dbl&gt;   &lt;dbl&gt;      &lt;int&gt;
1 No           43      409.    97.8     318587
2 Yes          37      475.    95.0     295157</code></pre>
</div>
</div>
</section><section id="why-are-the-pv-grades-pivoting-around-the-500-mark" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="why-are-the-pv-grades-pivoting-around-the-500-mark">
<span class="header-section-number">4.4</span> Why are the PV grades pivoting around the ~500 mark?</h2>
<p>The scores for students in mathematics, reading and science are scaled so that the mean of students in OECD countries is roughly 500 points with a standard deviation of 100 points. To see this, run the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>PISA_2022 <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">filter</span>(OECD<span class="sc">==</span><span class="st">"Yes"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="fu">summarise</span>(<span class="at">math_mean =</span> <span class="fu">mean</span>(PV1MATH, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb10-4"><a href="#cb10-4"></a>            <span class="at">math_sd =</span> <span class="fu">sd</span>(PV1MATH, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb10-5"><a href="#cb10-5"></a>            <span class="at">scie_mean =</span> <span class="fu">mean</span>(PV1SCIE, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb10-6"><a href="#cb10-6"></a>            <span class="at">scie_sd =</span> <span class="fu">sd</span>(PV1SCIE, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb10-7"><a href="#cb10-7"></a>            <span class="at">read_mean =</span> <span class="fu">mean</span>(PV1READ, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb10-8"><a href="#cb10-8"></a>            <span class="at">read_sd =</span> <span class="fu">sd</span>(PV1READ, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 6
  math_mean math_sd scie_mean scie_sd read_mean read_sd
      &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
1      475.    95.0      487.    101.      478.    104.</code></pre>
</div>
</div>
</section><section id="but-the-mean-pv-score-isnt-500" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="but-the-mean-pv-score-isnt-500">
<span class="header-section-number">4.5</span> But the mean PV score isn’t 500?!</h2>
<p>The OECD’s initial plan (in the 2000 study) was that the mean PC score for OECD countries should be 500 and the standard deviation 100 <span class="citation" data-cites="pisa2018results">(<a href="#ref-pisa2018results" role="doc-biblioref">OECD 2019a</a>)</span>. However, after the 2000 study, scores were scaled to be comparable with the first cycle of data, resulting in means differing from 500 <span class="citation" data-cites="pulkkinen2022correspondence">(<a href="#ref-pulkkinen2022correspondence" role="doc-biblioref">Pulkkinen and Rautopuro 2022</a>)</span>. For example, by 2015, the mean for science had fallen to 493 in science and reading, and 490 in mathematics.</p>
</section><section id="why-are-the-letters-ta-and-na-used-in-some-field-names" class="level2" data-number="4.6"><h2 data-number="4.6" class="anchored" data-anchor-id="why-are-the-letters-ta-and-na-used-in-some-field-names">
<span class="header-section-number">4.6</span> Why are the letters TA and NA used in some field names?</h2>
</section><section id="how-do-i-find-fields-that-are-numeric" class="level2" data-number="4.7"><h2 data-number="4.7" class="anchored" data-anchor-id="how-do-i-find-fields-that-are-numeric">
<span class="header-section-number">4.7</span> How do I find fields that are numeric?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># using the following code!</span></span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a>nms <span class="ot">&lt;-</span> PISA_2022 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span>
<span id="cb12-4"><a href="#cb12-4"></a>lbls <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(nms,\(nme){</span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="fu">message</span>(nme)</span>
<span id="cb12-6"><a href="#cb12-6"></a>  lbl <span class="ot">&lt;-</span> <span class="fu">attr</span>(PISA_2022[[nme]], <span class="st">"label"</span>)</span>
<span id="cb12-7"><a href="#cb12-7"></a>  row <span class="ot">&lt;-</span> <span class="fu">c</span>(nme, lbl)</span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">names</span>(row) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"label"</span>)</span>
<span id="cb12-9"><a href="#cb12-9"></a>  <span class="fu">return</span>(row)</span>
<span id="cb12-10"><a href="#cb12-10"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="how-are-students-selected-to-take-part-in-pisa" class="level2" data-number="4.8"><h2 data-number="4.8" class="anchored" data-anchor-id="how-are-students-selected-to-take-part-in-pisa">
<span class="header-section-number">4.8</span> How are students selected to take part in PISA?</h2>
<p>The students who take part in the PISA study are aged between 15 years and 3 (completed) months and 16 years and 2 (completed) months at the beginning of the testing period <span class="citation" data-cites="OECD2018technical">(<a href="#ref-OECD2018technical" role="doc-biblioref">OECD 2018</a>)</span>. A number of classes of students are excluded from data collection:</p>
<ul>
<li>Students classed as ‘functionally disabled’ so that they cannot participate in the test.</li>
<li>Judged by teachers to have cognitive, emotional or behavioural difficulties that mean they cannot participate.</li>
<li>The student lacks language abilities to take the test in the assessment language.</li>
<li>There are no test material available in the student’s language</li>
<li>Another agreed reason</li>
</ul>
<p>The OECD expect that 85% of schools in their original sample participate - nonparticipating schools can be replaced with a substitute, ‘replacement’ school. A minimum weighted response rate of 80% is required within schools.</p>
<p>The sampling strategy for PISA is a stratified two-stage sample design. That is schools are sampled to represent proportional distribution by size (referring to the number of enrolled 15-year-olds) sampling. Within schools, students are sampled with equal probability.</p>
<p>Students are selected by … <span class="citation" data-cites="ref">(<a href="#ref-ref" role="doc-biblioref"><strong>ref?</strong></a>)</span></p>
<p>Add Christian Bokhove papers https://bokhove.net/r-materials/</p>
<p>From the data, you can see that 50% of schools entered fewer than 30 students into PISA.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>PISA_2022 <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">group_by</span>(CNTSCHID) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">summarise</span>(<span class="at">size =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">mutate</span>(<span class="at">quartile =</span> <span class="fu">ntile</span>(size, <span class="dv">4</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">group_by</span>(quartile) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="fu">summarise</span>(<span class="at">Qmax =</span> <span class="fu">max</span>(size),</span>
<span id="cb13-7"><a href="#cb13-7"></a>            <span class="at">Qmedian =</span> <span class="fu">median</span>(size),</span>
<span id="cb13-8"><a href="#cb13-8"></a>            <span class="at">Qmean =</span> <span class="fu">mean</span>(size))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
  quartile  Qmax Qmedian Qmean
     &lt;int&gt; &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt;
1        1    19      10  10.1
2        2    30      25  25.2
3        3    37      34  33.8
4        4   475      40  44.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">ggplot</span>(PISA_2022 <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="fu">group_by</span>(CNTSCHID) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="fu">summarise</span>(<span class="at">size =</span> <span class="fu">n</span>()), <span class="fu">aes</span>(<span class="at">x=</span>size)) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="A1-PISA_analysis_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="what-are-the-pisa-test-questions-like" class="level2" data-number="4.9"><h2 data-number="4.9" class="anchored" data-anchor-id="what-are-the-pisa-test-questions-like">
<span class="header-section-number">4.9</span> What are the PISA test questions like?</h2>
<p>You can view sample PISA science, reading and mathematics questions <a href="https://www.oecd.org/pisa/test/">here</a>.</p>
</section><section id="how-can-i-find-the-ethnicity-or-race-of-a-student-taking-the-pisa-test" class="level2" data-number="4.10"><h2 data-number="4.10" class="anchored" data-anchor-id="how-can-i-find-the-ethnicity-or-race-of-a-student-taking-the-pisa-test">
<span class="header-section-number">4.10</span> How can I find the ethnicity or race of a student taking the PISA test?</h2>
<p>This data isn’t collected by PISA. Instead they collect information on the language spoken at home (<code>LANGN</code>) and the language of the test (<code>LANGTEST_QQQ</code>), as well as the immigration status and country of birth (<code>COBN_S</code> student, <code>COBN_M</code> mother, <code>COBN_F</code> father). Details on ethnicity and outcomes in the England are published through the <a href="https://assets.publishing.service.gov.uk/media/5f20293fd3bf7f1b0fa79fa3/PISA_2018_England_national_report_accessible.pdf">country specific research report</a> for 2018. Note that Chinese students are categorised under “Other” rather than “Asian”.</p>
</section><section id="what-are-the-pisa-domains" class="level2" data-number="4.11"><h2 data-number="4.11" class="anchored" data-anchor-id="what-are-the-pisa-domains">
<span class="header-section-number">4.11</span> What are the PISA domains?</h2>
<p>Every PISA test has included test items measuring literacy, numeracy and science. In each cycle, one of three areas is the focus of study (the major domain). In addition, extra domains have been added to cycles (for example, creative thinking and collaborative problem solving). The additional domains are shown in the table below.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 56%">
</colgroup>
<thead><tr class="header">
<th>Year</th>
<th>Major Domain</th>
<th>Minor Domains</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>2000</strong></td>
<td>Reading literacy</td>
<td>Mathematics, Science</td>
</tr>
<tr class="even">
<td><strong>2003</strong></td>
<td>Mathematics</td>
<td>Reading literacy, Science, Cross-curricular problem solving</td>
</tr>
<tr class="odd">
<td><strong>2006</strong></td>
<td>Science</td>
<td>Reading literacy, Mathematics</td>
</tr>
<tr class="even">
<td><strong>2009</strong></td>
<td>Reading literacy</td>
<td>Mathematics, Science</td>
</tr>
<tr class="odd">
<td><strong>2012</strong></td>
<td>Mathematics</td>
<td>Reading literacy, Science, Creative problem solving</td>
</tr>
<tr class="even">
<td><strong>2015</strong></td>
<td>Science</td>
<td>Mathematics, Reading literacy, Collaborative problem solving</td>
</tr>
<tr class="odd">
<td><strong>2018</strong></td>
<td>Reading literacy</td>
<td>Mathematics, Science, Global Competence</td>
</tr>
<tr class="even">
<td><strong>2022</strong></td>
<td>Mathematics</td>
<td>Reading literacy, Science, Creative thinking</td>
</tr>
<tr class="odd">
<td><strong>2025</strong></td>
<td>Science</td>
<td>Mathematics, Reading literacy, Learning in the Digital World</td>
</tr>
</tbody>
</table></section><section id="why-is-china-given-the-cnt-value-b-s-j-z-china-2018-or-b-s-j-g-china-2015" class="level2" data-number="4.12"><h2 data-number="4.12" class="anchored" data-anchor-id="why-is-china-given-the-cnt-value-b-s-j-z-china-2018-or-b-s-j-g-china-2015">
<span class="header-section-number">4.12</span> Why is China given the <code>CNT</code> value <code>B-S-J-Z (China)</code> (2018) or <code>B-S-J-G (China)</code> (2015)?</h2>
<p>B-S-J-G/Z (China) is an acronym for Beijing, Shanghai, Jiangsu and Guangdong/Zhejiang, the four provinces/municipalities of the People’s Republic of China that take part in PISA data collection. Zhejiang took the place of Guangdong in the 2018 dataset. Several authors (including <span class="citation" data-cites="du2019science">(<a href="#ref-du2019science" role="doc-biblioref">Du and Wong 2019</a>)</span>) comment that sampling only from some of the most developed regions of China means the country’s data is unlikely to be nationally representative.</p>
</section><section id="where-is-mainland-china-in-pisa-2022" class="level2" data-number="4.13"><h2 data-number="4.13" class="anchored" data-anchor-id="where-is-mainland-china-in-pisa-2022">
<span class="header-section-number">4.13</span> Where is mainland China in PISA 2022?</h2>
<blockquote class="blockquote">
<p>Chinese provinces/municipalities (Beijing, Shanghai, Jiangsu and Zhejiang) and Lebanon are participants in PISA 2022 but were unable to collect data because schools were closed during the intended data collection period. - <a href="https://www.oecd.org/pisa/aboutpisa/pisa-2022-participants.htm">PISA 2022 participants</a></p>
</blockquote>
</section><section id="how-do-i-calculate-weighted-means-of-the-pv-scores" class="level2" data-number="4.14"><h2 data-number="4.14" class="anchored" data-anchor-id="how-do-i-calculate-weighted-means-of-the-pv-scores">
<span class="header-section-number">4.14</span> How do I calculate weighted means of the PV scores?</h2>
<p>You can use a function written by Miguel Diaz Kusztrick, here is his slightly tidied function for calculating weighted means and standard deviations (<a href="https://web.archive.org/web/20230208113351/http://software-tecnico-libre.es/en/article-by-topic/all-sections/all-topics/all-articles/pisa-database-plausible-values-r-code">original link</a>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># Copyright Miguel Diaz Kusztrick</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>wght_meansd_pv <span class="ot">&lt;-</span> <span class="cf">function</span>(sdata, pv, weight, brr) {</span>
<span id="cb16-3"><a href="#cb16-3"></a>    mmeans  <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb16-4"><a href="#cb16-4"></a>    <span class="fu">names</span>(mmeans) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"MEAN"</span>,<span class="st">"SE-MEAN"</span>,<span class="st">"STDEV"</span>,<span class="st">"SE-STDEV"</span>)</span>
<span id="cb16-5"><a href="#cb16-5"></a>    </span>
<span id="cb16-6"><a href="#cb16-6"></a>    mmeanspv <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">length</span>(pv))</span>
<span id="cb16-7"><a href="#cb16-7"></a>    stdspv   <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">length</span>(pv))</span>
<span id="cb16-8"><a href="#cb16-8"></a>    mmeansbr <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">length</span>(pv))</span>
<span id="cb16-9"><a href="#cb16-9"></a>    stdsbr   <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">length</span>(pv))</span>
<span id="cb16-10"><a href="#cb16-10"></a>    sum_weight <span class="ot">&lt;-</span> <span class="fu">sum</span>(sdata[,weight])</span>
<span id="cb16-11"><a href="#cb16-11"></a>    </span>
<span id="cb16-12"><a href="#cb16-12"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(pv)) {</span>
<span id="cb16-13"><a href="#cb16-13"></a>        mmeanspv[i] <span class="ot">&lt;-</span> <span class="fu">sum</span>(sdata[,weight]<span class="sc">*</span>sdata[,pv[i]])<span class="sc">/</span>sum_weight</span>
<span id="cb16-14"><a href="#cb16-14"></a>        stdspv[i]   <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="fu">sum</span>(sdata[,weight]<span class="sc">*</span>(sdata[,pv[i]]<span class="sc">^</span><span class="dv">2</span>))<span class="sc">/</span>swght)<span class="sc">-</span>mmeanspv[i]<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb16-15"><a href="#cb16-15"></a>        <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(brr)) {</span>
<span id="cb16-16"><a href="#cb16-16"></a>            sbrr<span class="ot">&lt;-</span><span class="fu">sum</span>(sdata[,brr[j]])</span>
<span id="cb16-17"><a href="#cb16-17"></a>            mbrrj<span class="ot">&lt;-</span><span class="fu">sum</span>(sdata[,brr[j]]<span class="sc">*</span>sdata[,pv[i]])<span class="sc">/</span>sbrr</span>
<span id="cb16-18"><a href="#cb16-18"></a>            mmeansbr[i]<span class="ot">&lt;-</span>mmeansbr[i] <span class="sc">+</span> (mbrrj <span class="sc">-</span> mmeanspv[i])<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb16-19"><a href="#cb16-19"></a>            stdsbr[i]<span class="ot">&lt;-</span>stdsbr[i] <span class="sc">+</span> (<span class="fu">sqrt</span>((<span class="fu">sum</span>(sdata[,brr[j]]<span class="sc">*</span>(sdata[,pv[i]]<span class="sc">^</span><span class="dv">2</span>))<span class="sc">/</span>sbrr)<span class="sc">-</span>mbrrj<span class="sc">^</span><span class="dv">2</span>) <span class="sc">-</span> stdspv[i])<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb16-20"><a href="#cb16-20"></a>        }       </span>
<span id="cb16-21"><a href="#cb16-21"></a>    }</span>
<span id="cb16-22"><a href="#cb16-22"></a>    mmeans[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(mmeanspv) <span class="sc">/</span> <span class="fu">length</span>(pv)</span>
<span id="cb16-23"><a href="#cb16-23"></a>    mmeans[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>((mmeansbr <span class="sc">*</span> <span class="dv">4</span>) <span class="sc">/</span> <span class="fu">length</span>(brr)) <span class="sc">/</span> <span class="fu">length</span>(pv)</span>
<span id="cb16-24"><a href="#cb16-24"></a>    mmeans[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(stdspv) <span class="sc">/</span> <span class="fu">length</span>(pv)</span>
<span id="cb16-25"><a href="#cb16-25"></a>    mmeans[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>((stdsbr <span class="sc">*</span> <span class="dv">4</span>) <span class="sc">/</span> <span class="fu">length</span>(brr)) <span class="sc">/</span> <span class="fu">length</span>(pv)</span>
<span id="cb16-26"><a href="#cb16-26"></a>    ivar <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb16-27"><a href="#cb16-27"></a>    </span>
<span id="cb16-28"><a href="#cb16-28"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(pv)) {</span>
<span id="cb16-29"><a href="#cb16-29"></a>        ivar[<span class="dv">1</span>] <span class="ot">&lt;-</span> ivar[<span class="dv">1</span>] <span class="sc">+</span> (mmeanspv[i] <span class="sc">-</span> mmeans[<span class="dv">1</span>])<span class="sc">^</span><span class="dv">2</span>;</span>
<span id="cb16-30"><a href="#cb16-30"></a>        ivar[<span class="dv">2</span>] <span class="ot">&lt;-</span> ivar[<span class="dv">2</span>] <span class="sc">+</span> (stdspv[i] <span class="sc">-</span> mmeans[<span class="dv">3</span>])<span class="sc">^</span><span class="dv">2</span>;</span>
<span id="cb16-31"><a href="#cb16-31"></a>    }</span>
<span id="cb16-32"><a href="#cb16-32"></a>    ivar <span class="ot">=</span> (<span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">/</span> <span class="fu">length</span>(pv))) <span class="sc">*</span> (ivar <span class="sc">/</span> (<span class="fu">length</span>(pv) <span class="sc">-</span> <span class="dv">1</span>));</span>
<span id="cb16-33"><a href="#cb16-33"></a>    mmeans[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(mmeans[<span class="dv">2</span>] <span class="sc">+</span> ivar[<span class="dv">1</span>]);</span>
<span id="cb16-34"><a href="#cb16-34"></a>    mmeans[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(mmeans[<span class="dv">4</span>] <span class="sc">+</span> ivar[<span class="dv">2</span>]);</span>
<span id="cb16-35"><a href="#cb16-35"></a>    <span class="fu">return</span>(mmeans);</span>
<span id="cb16-36"><a href="#cb16-36"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="pisa-quirks" class="level1" data-number="5"><h1 data-number="5">
<span class="header-section-number">5</span> PISA quirks</h1>
<section id="empty-fields" class="level2" data-number="5.1"><h2 data-number="5.1" class="anchored" data-anchor-id="empty-fields">
<span class="header-section-number">5.1</span> Empty fields</h2>
<p>All 2022 school responses to questions about the clubs and extra curricular activities run in a school <code>SC053Q____</code> are coded as <code>NA</code>, as are <code>SC207____</code>. It’s not clear why this data is included in the dataset or whether this data should have values but doesn’t. These (albeit empty) fields are included in the full <code>PISA_school_2022.parquet</code> file linked above.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>club_flds <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"SC053Q01TA"</span>,<span class="st">"SC053Q02TA"</span>,<span class="st">"SC053Q03TA"</span>,<span class="st">"SC053Q04TA"</span>,<span class="st">"SC053Q05NA"</span>,</span>
<span id="cb17-2"><a href="#cb17-2"></a>               <span class="st">"SC053Q06NA"</span>,<span class="st">"SC053Q07TA"</span>,<span class="st">"SC053Q08TA"</span>,<span class="st">"SC053Q09TA"</span>,<span class="st">"SC053Q10TA"</span>)</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a>PISA_2022_school <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"CNT"</span>, <span class="fu">starts_with</span>(<span class="st">"SC053Q"</span>), <span class="fu">starts_with</span>(<span class="st">"SC207"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="fu">group_by</span>(CNT) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>CNT, </span>
<span id="cb17-8"><a href="#cb17-8"></a>               <span class="at">names_to =</span> <span class="st">"club"</span>,</span>
<span id="cb17-9"><a href="#cb17-9"></a>               <span class="at">values_to =</span> <span class="st">"present"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(present)) <span class="sc">%&gt;%</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="fu">pull</span>(club) <span class="sc">%&gt;%</span> </span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">unique</span>()</span>
<span id="cb17-13"><a href="#cb17-13"></a></span>
<span id="cb17-14"><a href="#cb17-14"></a><span class="co"># Note: SC053D11TA is present:</span></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="co"># &lt;This academic year&gt;,follow. activities/school offers&lt;national modal grade for 15-year-olds&gt;? &lt;country specific item&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Additionally, <em>creativity</em> fields stored in <code>ST334_____</code>, <code>ST340_____</code>, <code>ST341_____</code>, <code>PA185_____</code> and <code>CREA____</code> on the student questionnaire are missing answers for all countries:</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>PISA_2022 <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"CNT"</span>, <span class="st">"IMAGINE"</span>, </span>
<span id="cb18-3"><a href="#cb18-3"></a>           <span class="fu">starts_with</span>(<span class="st">"ST334"</span>),</span>
<span id="cb18-4"><a href="#cb18-4"></a>           <span class="fu">starts_with</span>(<span class="st">"ST340"</span>), </span>
<span id="cb18-5"><a href="#cb18-5"></a>           <span class="fu">starts_with</span>(<span class="st">"ST341"</span>),</span>
<span id="cb18-6"><a href="#cb18-6"></a>           <span class="fu">starts_with</span>(<span class="st">"PA185"</span>),</span>
<span id="cb18-7"><a href="#cb18-7"></a>           <span class="fu">starts_with</span>(<span class="st">"CREA"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), as.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb18-9"><a href="#cb18-9"></a>  <span class="fu">group_by</span>(CNT) <span class="sc">%&gt;%</span></span>
<span id="cb18-10"><a href="#cb18-10"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>CNT, </span>
<span id="cb18-11"><a href="#cb18-11"></a>               <span class="at">names_to =</span> <span class="st">"creativity"</span>,</span>
<span id="cb18-12"><a href="#cb18-12"></a>               <span class="at">values_to =</span> <span class="st">"present"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-13"><a href="#cb18-13"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(present)) <span class="sc">%&gt;%</span></span>
<span id="cb18-14"><a href="#cb18-14"></a>  <span class="fu">pull</span>(creativity) <span class="sc">%&gt;%</span> </span>
<span id="cb18-15"><a href="#cb18-15"></a>  <span class="fu">unique</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="cyprus-present-but-missing" class="level2" data-number="5.2"><h2 data-number="5.2" class="anchored" data-anchor-id="cyprus-present-but-missing">
<span class="header-section-number">5.2</span> Cyprus present but missing</h2>
<p>Cyprus is still present in the levels of <code>CNT</code> even though PISA hasn’t recorded <a href="https://www.oecd.org/pisa/aboutpisa/cyprus-pisa.htm">data on Cyprus</a> since 2012. Other countries that didn’t participate in the 2022 round have been removed from the levels, e.g.&nbsp;China.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>countries <span class="ot">&lt;-</span> PISA_2022 <span class="sc">%&gt;%</span> <span class="fu">pull</span>(CNT) <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span>
<span id="cb19-2"><a href="#cb19-2"></a>country_lvls <span class="ot">&lt;-</span> PISA_2022 <span class="sc">%&gt;%</span> <span class="fu">pull</span>(CNT) <span class="sc">%&gt;%</span> <span class="fu">levels</span>()</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="fu">setdiff</span>(country_lvls, countries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="great-britain-vs-the-united-kingdom" class="level2" data-number="5.3"><h2 data-number="5.3" class="anchored" data-anchor-id="great-britain-vs-the-united-kingdom">
<span class="header-section-number">5.3</span> Great Britain vs the United Kingdom</h2>
<p>The <em>United Kingdom</em> is the country referred to when correctly combining the results of England, Scotland, Wales and Northern Ireland. However, the <em>regions</em> of the United Kingdom listed by the OECD are <em>“Great Britain:”</em> followed by England, Scotland, Wales and Northern Ireland. Northern Ireland isn’t part of <a href="https://en.wikipedia.org/wiki/Great_Britain">Great Britain</a>.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>PISA_2022 <span class="sc">%&gt;%</span> <span class="fu">select</span>(CNT, REGION) <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"Great Britain"</span>, REGION)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  CNT            REGION                         
  &lt;fct&gt;          &lt;fct&gt;                          
1 United Kingdom Great Britain: Wales           
2 United Kingdom Great Britain: Northern Ireland
3 United Kingdom Great Britain: England         
4 United Kingdom Great Britain: Scotland        </code></pre>
</div>
</div>
</section></section><section id="interesting-papers-and-reading-on-pisa" class="level1" data-number="6"><h1 data-number="6">
<span class="header-section-number">6</span> Interesting papers and reading on PISA</h1>
<p><strong>There are a number of useful OECD reports including</strong>:</p>
<ul>
<li>PISA Data Analysis Manual: SPSS second edition <span class="citation" data-cites="pisadat2009manual">OECD (<a href="#ref-pisadat2009manual" role="doc-biblioref">2009b</a>)</span>;</li>
<li>The PISA 2018 technical report <span class="citation" data-cites="pisa2019technical">OECD (<a href="#ref-pisa2019technical" role="doc-biblioref">2019b</a>)</span>
</li>
<li>PISA 2018 results <span class="citation" data-cites="pisa2018results">OECD (<a href="#ref-pisa2018results" role="doc-biblioref">2019a</a>)</span>
</li>
<li><a href="https://www.oecd.org/pisa/pisaproducts/PISA-2021-Adjusted-Design.pdf">PISA Adjusted 2021 design</a></li>
<li><a href="https://pisa-framework.oecd.org/science-2025/assets/docs/PISA_2025_Science_Framework.pdf">The PISA 2025 draft framework</a></li>
</ul>
<p><strong>John Jerrim and colleagues</strong> have written a number of papers which provide commentary on PISA analysis</p>
<ul>
<li>PISA 2012: how do results for the paper and computer tests compare? <span class="citation" data-cites="jerrim2016pisa">Jerrim (<a href="#ref-jerrim2016pisa" role="doc-biblioref">2016</a>)</span>
</li>
<li>To weight or not to weight?: The case of PISA data <span class="citation" data-cites="jerrim2017weight">Jerrim et al. (<a href="#ref-jerrim2017weight" role="doc-biblioref">2017</a>)</span>
</li>
<li>PISA 2015: how big is the ‘mode effect’ and what has been done about it? <span class="citation" data-cites="jerrim2018pisa">Jerrim et al. (<a href="#ref-jerrim2018pisa" role="doc-biblioref">2018</a>)</span>
</li>
<li>PISA 2018 in England, Northern Ireland, Scotland and Wales: Is the data really representative of all four corners of the UK? <span class="citation" data-cites="jerrim2021pisa">Jerrim (<a href="#ref-jerrim2021pisa" role="doc-biblioref">2021</a>)</span>
</li>
<li>Is Canada really an education superpower? The impact of non-participation on results from PISA 2015 <span class="citation" data-cites="anders2021canada">Anders et al. (<a href="#ref-anders2021canada" role="doc-biblioref">2021</a>)</span>
</li>
<li>Has Peak PISA passed? An investigation of interest in International Large-Scale Assessments across countries and over time <span class="citation" data-cites="jerrim2023peak">Jerrim (<a href="#ref-jerrim2023peak" role="doc-biblioref">2023</a>)</span>
</li>
<li>Conditioning: how background variables can influence PISA scores <span class="citation" data-cites="zieger2022conditioning">Zieger et al. (<a href="#ref-zieger2022conditioning" role="doc-biblioref">2022</a>)</span>
</li>
</ul>
<p><strong>Other PISA Papers of Interest</strong></p>
<!-- -->
<ul>
<li>PISA according to PISA: Does PISA keep what it promises? <span class="citation" data-cites="cordingley2008research">Cordingley (<a href="#ref-cordingley2008research" role="doc-biblioref">2008</a>)</span>
</li>
<li>The policy impact of PISA: An exploration of the normative effects of international benchmarking in school system performance <span class="citation" data-cites="breakspear2012policy">Breakspear (<a href="#ref-breakspear2012policy" role="doc-biblioref">2012</a>)</span>
</li>
<li>A call for a more measured approach to reporting and interpreting PISA results <span class="citation" data-cites="rutkowski2016call">Rutkowski and Rutkowski (<a href="#ref-rutkowski2016call" role="doc-biblioref">2016</a>)</span>
</li>
<li>PISA data: Raising concerns with its use in policy settings <span class="citation" data-cites="gillis2016pisa">Gillis, Polesel, and Wu (<a href="#ref-gillis2016pisa" role="doc-biblioref">2016</a>)</span>
</li>
<li>Differential item functioning in PISA due to mode effects <span class="citation" data-cites="feskens2019differential">Feskens, Fox, and Zwitser (<a href="#ref-feskens2019differential" role="doc-biblioref">2019</a>)</span>
</li>
<li>The measure of socio-economic status in PISA: A review and some suggested improvements <span class="citation" data-cites="avvisati2020measure">Avvisati (<a href="#ref-avvisati2020measure" role="doc-biblioref">2020</a>)</span>
</li>
<li>Conditioning: How background variables can influence PISA scores <span class="citation" data-cites="zieger2022conditioning">Zieger et al. (<a href="#ref-zieger2022conditioning" role="doc-biblioref">2022</a>)</span>
</li>
<li>A critique of how socio-economic status is measured in PISA <span class="citation" data-cites="avvisati2020measure">Avvisati (<a href="#ref-avvisati2020measure" role="doc-biblioref">2020</a>)</span>
</li>
</ul></section><section id="copyright" class="level1" data-number="7"><h1 data-number="7">
<span class="header-section-number">7</span> Copyright</h1>
<blockquote class="blockquote">
<p>All PISA products are published under the <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/igo/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 IGO</a> (CC BY-NC-SA 3.0 IGO)</p>
</blockquote>
<p>This includes the <code>.feather</code> and <code>.parquet</code> formatted datasets linked in this book.</p>



</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-anders2021canada" class="csl-entry" role="listitem">
Anders, Jake, Silvan Has, John Jerrim, Nikki Shure, and Laura Zieger. 2021. <span>“Is Canada Really an Education Superpower? The Impact of Non-Participation on Results from PISA 2015.”</span> <em>Educational Assessment, Evaluation and Accountability</em> 33: 229–49.
</div>
<div id="ref-avvisati2020measure" class="csl-entry" role="listitem">
Avvisati, Francesco. 2020. <span>“The Measure of Socio-Economic Status in PISA: A Review and Some Suggested Improvements.”</span> <em>Large-Scale Assessments in Education</em> 8 (1): 1–37.
</div>
<div id="ref-breakspear2012policy" class="csl-entry" role="listitem">
Breakspear, Simon. 2012. <span>“The Policy Impact of PISA: An Exploration of the Normative Effects of International Benchmarking in School System Performance.”</span>
</div>
<div id="ref-cordingley2008research" class="csl-entry" role="listitem">
Cordingley, P. 2008. <span>“Research and Evidence-Informed Practice: Focusing on Practice and Practitioners.”</span> <em>Cambridge Journal of Education</em> 38 (1): 37–52. <a href="https://doi.org/10.1080/03057640801889964">https://doi.org/10.1080/03057640801889964</a>.
</div>
<div id="ref-du2019science" class="csl-entry" role="listitem">
Du, Xin, and Billy Wong. 2019. <span>“Science Career Aspiration and Science Capital in China and <span>UK</span>: A Comparative Study Using PISA Data.”</span> <em>International Journal of Science Education</em> 41 (15): 2136–55.
</div>
<div id="ref-feskens2019differential" class="csl-entry" role="listitem">
Feskens, Remco, Jean-Paul Fox, and Robert Zwitser. 2019. <span>“Differential Item Functioning in PISA Due to Mode Effects.”</span> <em>Theoretical and Practical Advances in Computer-Based Educational Measurement</em>, 231–47.
</div>
<div id="ref-gillis2016pisa" class="csl-entry" role="listitem">
Gillis, Shelley, John Polesel, and Margaret Wu. 2016. <span>“PISA Data: Raising Concerns with Its Use in Policy Settings.”</span> <em>The Australian Educational Researcher</em> 43: 131–46.
</div>
<div id="ref-jerrim2016pisa" class="csl-entry" role="listitem">
Jerrim, John. 2016. <span>“PISA 2012: How Do Results for the Paper and Computer Tests Compare?”</span> <em>Assessment in Education: Principles, Policy &amp; Practice</em> 23 (4): 495–518.
</div>
<div id="ref-jerrim2021pisa" class="csl-entry" role="listitem">
———. 2021. <span>“PISA 2018 in England, Northern Ireland, Scotland and Wales: Is the Data Really Representative of All Four Corners of the UK?”</span> <em>Review of Education</em> 9 (3): e3270.
</div>
<div id="ref-jerrim2023peak" class="csl-entry" role="listitem">
———. 2023. <span>“Has Peak PISA Passed? An Investigation of Interest in International Large-Scale Assessments Across Countries and over Time.”</span> <em>European Educational Research Journal</em>, 14749041231151793.
</div>
<div id="ref-jerrim2017weight" class="csl-entry" role="listitem">
Jerrim, John, Luis Alejandro Lopez-Agudo, Oscar D Marcenaro-Gutierrez, and Nikki Shure. 2017. <span>“To Weight or Not to Weight?: The Case of PISA Data.”</span> In <em>Proceedings of the XXVI Meeting of the Economics of Education Association, Murcia, Spain</em>, 29–30.
</div>
<div id="ref-jerrim2018pisa" class="csl-entry" role="listitem">
Jerrim, John, John Micklewright, Jorg-Henrik Heine, Christine Salzer, and Caroline McKeown. 2018. <span>“PISA 2015: How Big Is the ‘Mode Effect’and What Has Been Done about It?”</span> <em>Oxford Review of Education</em> 44 (4): 476–93.
</div>
<div id="ref-monseur2009pisa" class="csl-entry" role="listitem">
Monseur, Christian et al. 2009. <span>“PISA Data Analysis Manual: <span>SPSS</span> Second Edition.”</span> <a href="https://www.oecd-ilibrary.org/docserver/9789264056275-en.pdf?expires=1672909117&amp;id=id&amp;accname=guest&amp;checksum=3AD95B021546E6CB9B93D8895B011056">https://www.oecd-ilibrary.org/docserver/9789264056275-en.pdf?expires=1672909117&amp;id=id&amp;accname=guest&amp;checksum=3AD95B021546E6CB9B93D8895B011056</a>.
</div>
<div id="ref-OECD2009tech" class="csl-entry" role="listitem">
OECD. 2009a. <em>PISA 2006 Technical Report</em>. OECD.
</div>
<div id="ref-pisadat2009manual" class="csl-entry" role="listitem">
OECD. 2009b. <span>“<span>PISA Data Analysis Manual: SPSS, Second Edition</span>.”</span> <em><span>PISA</span></em>, March. <a href="https://doi.org/10.1787/9789264056275-en">https://doi.org/10.1787/9789264056275-en</a>.
</div>
<div id="ref-OECD2014technical" class="csl-entry" role="listitem">
———. 2014. <span>“PISA 2012 Technical Report.”</span> OECD, Paris. <a href="https://www.oecd.org/pisa/pisaproducts/PISA-2012-technical-report-final.pdf">https://www.oecd.org/pisa/pisaproducts/PISA-2012-technical-report-final.pdf</a>.
</div>
<div id="ref-OECD2018technical" class="csl-entry" role="listitem">
———. 2018. <span>“Technical Report.”</span> OECD, Paris. <a href="https://www.oecd.org/pisa/data/pisa2018technicalreport/PISA2018-TecReport-Ch-01-Programme-for-International-Student-Assessment-An-Overview.pdf">https://www.oecd.org/pisa/data/pisa2018technicalreport/PISA2018-TecReport-Ch-01-Programme-for-International-Student-Assessment-An-Overview.pdf</a>.
</div>
<div id="ref-pisa2018results" class="csl-entry" role="listitem">
———. 2019a. <span>“<span>PISA 2018 Results (Volume I)</span>.”</span> <em><span>PISA</span></em>, December. <a href="https://doi.org/10.1787/a9b5930a-en">https://doi.org/10.1787/a9b5930a-en</a>.
</div>
<div id="ref-pisa2019technical" class="csl-entry" role="listitem">
———. 2019b. <span>“<span class="nocase">PISA 2018 technical background</span>.”</span> <em><span>PISA</span></em>, December. <a href="https://doi.org/10.1787/89178eb6-en">https://doi.org/10.1787/89178eb6-en</a>.
</div>
<div id="ref-pulkkinen2022correspondence" class="csl-entry" role="listitem">
Pulkkinen, Jonna, and Juhani Rautopuro. 2022. <span>“The Correspondence Between PISA Performance and School Achievement in Finland.”</span> <em>International Journal of Educational Research</em> 114: 102000.
</div>
<div id="ref-rijmen2011hierarchical" class="csl-entry" role="listitem">
Rijmen, Frank. 2011. <span>“Hierarchical Factor Item Response Theory Models for PIRLS: Capturing Clustering Effects at Multiple Levels.”</span> <em>IERI Monograph Series: Issues and Methodologies in Large-Scale Assessments</em> 4: 59–74.
</div>
<div id="ref-rubin1987multiple" class="csl-entry" role="listitem">
Rubin, D. B. 1987. <em>Multiple Imputation for Nonresponse in Surveys</em>. John Wiley &amp; Sons.
</div>
<div id="ref-rutkowski2016call" class="csl-entry" role="listitem">
Rutkowski, Leslie, and David Rutkowski. 2016. <span>“A Call for a More Measured Approach to Reporting and Interpreting PISA Results.”</span> <em>Educational Researcher</em> 45 (4): 252–57.
</div>
<div id="ref-zieger2022conditioning" class="csl-entry" role="listitem">
Zieger, Laura Raffaella, John Jerrim, Jake Anders, and Nikki Shure. 2022. <span>“Conditioning: How Background Variables Can Influence PISA Scores.”</span> <em>Assessment in Education: Principles, Policy &amp; Practice</em> 29 (6): 632–52.
</div>
</div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>